<app-navbar></app-navbar>

<div class="register">
  <form [formGroup]="registerForm" (ngSubmit)="registerUser()" class="form-container">
    <div>
      <h2 class="form-title">{{ title }}</h2>
    </div>
    <!-- Display error message when msgVisible is true -->
    <div *ngIf="msgVisible" class="error-message">
      {{ errorMsg }}
    </div>
    
    <!-- Display success message when msgVisible2 is true -->
    <div *ngIf="msgVisible2" class="success-message">
      {{ successMsg }}
    </div>
    <div class="form-group">
      <label>First name*</label>
      <input type="text" data-cy="fname-input" formControlName="firstName" class="form-input" />
      <div *ngIf="
          registerForm.get('firstName')?.invalid &&
          registerForm.get('firstName')?.touched
        ">
        first name required
      </div>
    </div>
    <div class="form-group">
      <label>Last name*</label>
      <input type="text" data-cy="lname-input"formControlName="lastName" class="form-input" />
      <div *ngIf="
          registerForm.get('lastName')?.invalid &&
          registerForm.get('lastName')?.touched
        ">
        last name required
      </div>
    </div>
    <div class="form-group">
      <label>Email*</label>
      <input data-cy="email-input" type="email" formControlName="email" class="form-input" />
      <div *ngIf="
          registerForm.get('email')?.invalid &&
          registerForm.get('email')?.touched
        ">
        Email is required
      </div>
    </div>
    <div class="form-group">
      <label>Password*</label>
      <input data-cy="password-input" type="password" formControlName="password" class="form-input" />
      <div *ngIf="
          registerForm.get('password')?.invalid &&
          registerForm.get('password')?.touched
        ">
        Password is required
      </div>
    </div>
    <div class="form-group" id="reg-btn-section">
      <a href="#">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <button data-cy="create-account-link" type="submit" class="form-submit">
          Create Account
        </button>
        <!-- <input data-cy="create-account-link" type="submit" [disabled]="registerForm.invalid" class="form-submit" type="submit" value="Create Account"> -->
      </a>
      <div class="form-link">
        <p routerLink="/login">Proceed to login?</p>
      </div>
    </div>
  </form>
</div>